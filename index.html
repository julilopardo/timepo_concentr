<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Tiempos de Concentración</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    label { display: block; margin-top: 10px; }
    input { width: 100%; padding: 5px; margin-bottom: 10px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
    th { background-color: #f4f4f4; }
    .result { font-weight: bold; background-color: #eef; }
  </style>
</head>
<body>
  <h1>Calculadora de Tiempo de Concentración</h1>

  <label>Longitud del cauce (m): <input type="number" id="longitud" step="any"></label>
  <label>Cota inicial (m): <input type="number" id="cota_inicial" step="any"></label>
  <label>Cota final (m): <input type="number" id="cota_final" step="any"></label>
  <label>Área de la cuenca (ha): <input type="number" id="area" step="any"></label>
  <label>Número de curva SCS: <input type="number" id="cn" step="any"></label>
  <label>Rugosidad de Manning (n): <input type="number" id="manning" step="any"></label>
  <label>Coeficiente de escorrentía (C): <input type="number" id="coeficiente" step="any"></label>
  

  <button onclick="calcularTc()">Calcular</button>

  <table>
    <thead>
      <tr>
        <th>Método</th>
        <th>Tiempo de concentración (min)</th>
      </tr>
    </thead>
    <tbody id="tablaResultados">
      <tr><td>Kirpich</td><td class="result" id="kirpich">0</td></tr>
      <tr><td>SCS</td><td class="result" id="scs">0</td></tr>
      <tr><td>Témez</td><td class="result" id="temez">0</td></tr>
      <tr><td>California Culvert Practice</td><td class="result" id="california">0</td></tr>
      <tr><td>Federal Aviation Administration</td><td class="result" id="faa">0</td></tr>
      <tr><td><strong>Promedio sin extremos</strong></td><td class="result" id="promedio">0</td></tr>
    </tbody>
  </table>

<script>
function calcularTc() {
  let L = parseFloat(document.getElementById("longitud").value);
  let Hi = parseFloat(document.getElementById("cota_inicial").value);
  let Hf = parseFloat(document.getElementById("cota_final").value);
  let A = parseFloat(document.getElementById("area").value);
  let CN = parseFloat(document.getElementById("cn").value);
  let n = parseFloat(document.getElementById("manning").value);
  let C = parseFloat(document.getElementById("coeficiente").value);
  //let I = parseFloat(document.getElementById("intensidad").value);

  let S = (Hi - Hf) / L;
  let resultados = [];

  let kirpich = 0.0195 * Math.pow(L, 0.77) * Math.pow(S, -0.385);
  resultados.push(kirpich);
  document.getElementById("kirpich").textContent = kirpich.toFixed(2);

  let scs = (Math.pow(L, 0.8) *100* Math.pow((1000 / CN - 9), 0.7)) / (1900* Math.pow((S*100), 0.5));
  resultados.push(scs);
  document.getElementById("scs").textContent = scs.toFixed(2);

  let temez = 60 * 0.3 * (Math.pow((L/1000) / Math.pow(S, 0.25),0.76));
  resultados.push(temez);
  document.getElementById("temez").textContent = temez.toFixed(2);

  //let onda = 6.9 * Math.pow((n * L / (Math.sqrt(S) * Math.pow(A, 0.1))), 0.6);
 // resultados.push(onda);
  //document.getElementById("onda").textContent = onda.toFixed(2);

  let california = 60 *Math.pow((0.87075* Math.pow(L/1000, 3)/(Hf-Hi)),0.385);
  resultados.push(california);
  document.getElementById("california").textContent = california.toFixed(2);

  let faa = 1.8 * (1.1 - C)* Math.pow(L*3.28, 0.5) * Math.pow((S*100), -0.3333);
  resultados.push(faa);
  document.getElementById("faa").textContent = faa.toFixed(2);

  // Promedio sin extremos
  let ordenados = resultados.slice().sort((a, b) => a - b);
  let promedio = ordenados.slice(1, -1).reduce((a, b) => a + b, 0) / 4;
  document.getElementById("promedio").textContent = promedio.toFixed(2);
}
</script>

</body>
</html>
